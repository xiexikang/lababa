**目标**
- 为 `pages/statistics/index` 的“状态评分”设计一套可解释、可配置、鲁棒的 0–100 分模型，体现一周健康状况。

**现状回顾**
- 现有评分：每条 `record.status==='constipation'` 或 `diarrhea'` 扣 10，`normal` 加 2（src/pages/statistics/index.vue:266–275）。
- 已有数据：`weeklyRecords`、颜色/状态/形状/把量、时长（src/pages/statistics/index.vue:236–275）。

**评分模型（建议）**
- 总分：`score = clamp01( base - penalties + rewards ) * 100`
- 基础分：`base = 80`
- 惩罚项（每一周）：
  - 状态惩罚：`constipation: -15/次`；`diarrhea: -10/次`
  - 颜色惩罚（异常色）：`red/black/gray-white: -8/次`；`green: -3/次`；其它：`0`
  - 时长惩罚（极端时长）：每条记录 `duration<60s: -2`；`duration>20min: -3`；`duration>40min: -6`
  - 连续异常惩罚：若出现连续 `>=2` 天异常状态，再扣 `-5`
- 奖励项：
  - 正常奖励：`normal: +2/次`（上限 +20）
  - 打卡覆盖率：一周有记录的天数比例 `p = weeklyDaysCount/7`，奖励 `+ max(0, 10*p)`
  - 时间间隔稳定：相邻记录时间间隔方差低 → `+5`（简单地按有记录的天数均匀分布近似）
- 归一化与边界：结果 `min(max(score, 0), 100)`；若一周无记录，显示 `0` 并提示“暂无记录”。

**实现细化**
- 输入：`weeklyRecords`（已存在），`weeklyDaysCount`（已存在）
- 新增工具函数：
  - `isAbnormalColor(color)`；`isExtremeDuration(seconds)`；`hasConsecutiveAbnormal(daysMap)`
  - `computeIntervalStability(records)`（可先按天数近似，如天数≥4再奖励）
- 计算流程：
  1) 遍历 `weeklyRecords` 计算状态/颜色/时长惩罚与正常奖励
  2) 利用 `monthDayStatus` 或直接按 `weeklyRecords` 摘取本周每天是否有异常，计算连续异常惩罚
  3) 计算覆盖率奖励与间隔稳定奖励
  4) 汇总得到 `weeklyScore`

**代码落点**
- 在 `src/pages/statistics/index.vue`：
  - 保留 `weeklyRecords`、`weeklyDaysCount`（:240–247），新增评分函数 `computeWeeklyScore()` 替换现有 `weeklyScore` 计算（:266–275）
  - 可将权重常量置于文件顶部常量区，后续支持设置页调整

**UI与可解释性**
- 评分旁增加“?”按钮或次级文案，展示扣分/加分明细（例如本周扣分 15：便秘 1 次；异常颜色 2 次；极端时长 1 次；奖励 12：正常 6 次；覆盖率 6）。
- 为评分添加颜色条：`>=80` 绿色；`>=60 && <80` 黄色；`<60` 红色（现有 `score-fill` 可直接应用：:401–403）。

**边界与容错**
- 无记录：返回 0 分并提示“还没有记录哦～”
- 极端值：所有惩罚与奖励都设上限（如正常最高 +20，覆盖率最高 +10）
- 数据缺失：字段不存在不计分（例如 `color` 为空不计颜色惩罚）

**验证**
- 使用现有 `weeklyRecords` 做三类周样本：全正常、混合、全异常；确认输出在预期区间（正常≈85–95；混合≈60–80；异常≈30–55）。
- H5 和 WeApp 同步显示一致。

**后续可配置**
- 将权重抽出到 `src/utils/config.ts` 并在个人中心增加“评分规则”设置入口，支持用户微调权重（仅前端生效）。

请确认该评分规则与解释需求；确认后我将按上述方案在 `pages/statistics/index.vue` 实现，并在评分旁展示明细说明。